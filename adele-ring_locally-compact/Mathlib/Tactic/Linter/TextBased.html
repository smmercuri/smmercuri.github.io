<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../.././style.css"></link><link rel="icon" href="../../.././favicon.svg"></link><link rel="mask-icon" href="../../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../../.././/declarations/declaration-data.bmp" as="image"></link><title>Mathlib.Tactic.Linter.TextBased</title><script defer="true" src="../../.././mathjax-config.js"></script><script defer="true" src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../.././";</script><script>const MODULE_NAME="Mathlib.Tactic.Linter.TextBased";</script><script type="module" src="../../.././jump-src.js"></script><script type="module" src="../../.././search.js"></script><script type="module" src="../../.././expand-nav.js"></script><script type="module" src="../../.././how-about.js"></script><script type="module" src="../../.././instances.js"></script><script type="module" src="../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Linter</span>.<span class="name">TextBased</span></h2><form action="https://google.com/search" method="get" id="search_form"><input type="hidden" name="sitesearch" value="https://leanprover-community.github.io/mathlib4_docs"></input><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../../.././search.html';">Search</button><button>Google site search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover-community/mathlib4/blob/caac5b13fb72ba0c5d0b35a0067de108db65e964/Mathlib/Tactic/Linter/TextBased.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../.././Init.html">Init</a></li><li><a href="../../.././Batteries/Data/String/Matcher.html">Batteries.Data.String.Matcher</a></li><li><a href="../../.././Mathlib/Data/Nat/Notation.html">Mathlib.Data.Nat.Notation</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Mathlib.Tactic.Linter.TextBased" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#BroadImports"><span class="name">BroadImports</span></a></div><div class="nav_link"><a class="break_within" href="#instBEqBroadImports"><span class="name">instBEqBroadImports</span></a></div><div class="nav_link"><a class="break_within" href="#StyleError"><span class="name">StyleError</span></a></div><div class="nav_link"><a class="break_within" href="#instBEqStyleError"><span class="name">instBEqStyleError</span></a></div><div class="nav_link"><a class="break_within" href="#ErrorFormat"><span class="name">ErrorFormat</span></a></div><div class="nav_link"><a class="break_within" href="#instBEqErrorFormat"><span class="name">instBEqErrorFormat</span></a></div><div class="nav_link"><a class="break_within" href="#StyleError.errorMessage"><span class="name">StyleError</span>.<span class="name">errorMessage</span></a></div><div class="nav_link"><a class="break_within" href="#StyleError.errorCode"><span class="name">StyleError</span>.<span class="name">errorCode</span></a></div><div class="nav_link"><a class="break_within" href="#ErrorContext"><span class="name">ErrorContext</span></a></div><div class="nav_link"><a class="break_within" href="#StyleError.normalise"><span class="name">StyleError</span>.<span class="name">normalise</span></a></div><div class="nav_link"><a class="break_within" href="#instBEqErrorContext"><span class="name">instBEqErrorContext</span></a></div><div class="nav_link"><a class="break_within" href="#outputMessage"><span class="name">outputMessage</span></a></div><div class="nav_link"><a class="break_within" href="#parse?_errorContext"><span class="name">parse?_errorContext</span></a></div><div class="nav_link"><a class="break_within" href="#parseStyleExceptions"><span class="name">parseStyleExceptions</span></a></div><div class="nav_link"><a class="break_within" href="#formatErrors"><span class="name">formatErrors</span></a></div><div class="nav_link"><a class="break_within" href="#TextbasedLinter"><span class="name">TextbasedLinter</span></a></div><div class="nav_link"><a class="break_within" href="#isCorrectAuthorsLine"><span class="name">isCorrectAuthorsLine</span></a></div><div class="nav_link"><a class="break_within" href="#copyrightHeaderLinter"><span class="name">copyrightHeaderLinter</span></a></div><div class="nav_link"><a class="break_within" href="#adaptationNoteLinter"><span class="name">adaptationNoteLinter</span></a></div><div class="nav_link"><a class="break_within" href="#broadImportsLinter"><span class="name">broadImportsLinter</span></a></div><div class="nav_link"><a class="break_within" href="#isImportsOnlyFile"><span class="name">isImportsOnlyFile</span></a></div><div class="nav_link"><a class="break_within" href="#checkFileLength"><span class="name">checkFileLength</span></a></div><div class="nav_link"><a class="break_within" href="#allLinters"><span class="name">allLinters</span></a></div><div class="nav_link"><a class="break_within" href="#lintFile"><span class="name">lintFile</span></a></div><div class="nav_link"><a class="break_within" href="#lintModules"><span class="name">lintModules</span></a></div></nav><main>
<div class="mod_doc"><h2 class="markdown-heading" id="Text-based-linters">Text-based linters <a class="hover-link" href="#Text-based-linters">#</a></h2><p>This file defines various mathlib linters which are based on reading the source code only.
In practice, only style linters will have this form.
All of these have been rewritten from the <code>lint-style.py</code> script.</p><p>For now, this only contains the linters for the copyright and author headers and large files:
further linters will be ported in subsequent PRs.</p><p>An executable running all these linters is defined in <code><a href="../../.././scripts/lint_style.html">scripts/lint_style.lean</a></code>.</p></div><div class="decl" id="BroadImports"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/caac5b13fb72ba0c5d0b35a0067de108db65e964/Mathlib/Tactic/Linter/TextBased.lean#L26-L32">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#BroadImports"><span class="name">BroadImports</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>Different kinds of &quot;broad imports&quot; that are linted against.</p><ul class="constructors"><li class="constructor" id="BroadImports.TacticFolder">TacticFolder: <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#BroadImports">BroadImports</a><div class="inductive_ctor_doc"><p>Importing the entire &quot;Mathlib.Tactic&quot; folder</p></div></li><li class="constructor" id="BroadImports.Lake">Lake: <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#BroadImports">BroadImports</a><div class="inductive_ctor_doc"><p>Importing any module in <code><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#BroadImports.Lake">Lake</a></code>, unless carefully measured
This has caused unexpected regressions in the past.</p></div></li></ul><details id="instances-for-list-BroadImports" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="instBEqBroadImports"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/caac5b13fb72ba0c5d0b35a0067de108db65e964/Mathlib/Tactic/Linter/TextBased.lean#L32-L32">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#instBEqBroadImports"><span class="name">instBEqBroadImports</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#BEq">BEq</a> <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#BroadImports">BroadImports</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#instBEqBroadImports">instBEqBroadImports</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">beq</span> := <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#_private.Mathlib.Tactic.Linter.TextBased.0.beqBroadImports._@.Mathlib.Tactic.Linter.TextBased._hyg.9">beqBroadImports‚úù</a> }</span></span></li></ul></details></div></div><div class="decl" id="StyleError"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/caac5b13fb72ba0c5d0b35a0067de108db65e964/Mathlib/Tactic/Linter/TextBased.lean#L36-L52">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#StyleError"><span class="name">StyleError</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>Possible errors that text-based linters can report.</p><ul class="constructors"><li class="constructor" id="StyleError.copyright">copyright: <span class="fn"><span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Init/Prelude.html#String">String</a></span> ‚Üí <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#StyleError">StyleError</a></span><div class="inductive_ctor_doc"><p>Missing or malformed copyright header.
Unlike in the python script, we may provide some context on the actual error.</p></div></li><li class="constructor" id="StyleError.authors">authors: <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#StyleError">StyleError</a><div class="inductive_ctor_doc"><p>Malformed authors line in the copyright header</p></div></li><li class="constructor" id="StyleError.adaptationNote">adaptationNote: <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#StyleError">StyleError</a><div class="inductive_ctor_doc"><p>The bare string &quot;Adaptation note&quot; (or variants thereof): instead, the
#adaptation_note command should be used.</p></div></li><li class="constructor" id="StyleError.broadImport">broadImport: <span class="fn"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#BroadImports">BroadImports</a> ‚Üí <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#StyleError">StyleError</a></span><div class="inductive_ctor_doc"><p>Lint against &quot;too broad&quot; imports, such as <code>Mathlib.Tactic</code> or any module in <code><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#BroadImports.Lake">Lake</a></code>
(unless carefully measured)</p></div></li><li class="constructor" id="StyleError.fileTooLong">fileTooLong: <span class="fn"><a href="../../.././Init/Prelude.html#Nat">‚Ñï</a> ‚Üí <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a> ‚Üí <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#StyleError">StyleError</a></span><div class="inductive_ctor_doc"><p>The current file was too large: this error contains the current number of lines
as well as a size limit (slightly larger). On future runs, this linter will allow this file
to grow up to this limit.</p></div></li></ul><details id="instances-for-list-StyleError" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="instBEqStyleError"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/caac5b13fb72ba0c5d0b35a0067de108db65e964/Mathlib/Tactic/Linter/TextBased.lean#L52-L52">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#instBEqStyleError"><span class="name">instBEqStyleError</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#BEq">BEq</a> <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#StyleError">StyleError</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#instBEqStyleError">instBEqStyleError</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">beq</span> := <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#_private.Mathlib.Tactic.Linter.TextBased.0.beqStyleError._@.Mathlib.Tactic.Linter.TextBased._hyg.70">beqStyleError‚úù</a> }</span></span></li></ul></details></div></div><div class="decl" id="ErrorFormat"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/caac5b13fb72ba0c5d0b35a0067de108db65e964/Mathlib/Tactic/Linter/TextBased.lean#L55-L64">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#ErrorFormat"><span class="name">ErrorFormat</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>How to format style errors</p><ul class="constructors"><li class="constructor" id="ErrorFormat.humanReadable">humanReadable: <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#ErrorFormat">ErrorFormat</a><div class="inductive_ctor_doc"><p>Produce style error output aimed at humans: no error code, clickable file name</p></div></li><li class="constructor" id="ErrorFormat.exceptionsFile">exceptionsFile: <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#ErrorFormat">ErrorFormat</a><div class="inductive_ctor_doc"><p>Produce an entry in the style-exceptions file: mention the error code, slightly uglier
than humand-readable output</p></div></li><li class="constructor" id="ErrorFormat.github">github: <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#ErrorFormat">ErrorFormat</a><div class="inductive_ctor_doc"><p>Produce output suitable for Github error annotations: in particular,
duplicate the file path, line number and error code</p></div></li></ul><details id="instances-for-list-ErrorFormat" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="instBEqErrorFormat"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/caac5b13fb72ba0c5d0b35a0067de108db65e964/Mathlib/Tactic/Linter/TextBased.lean#L64-L64">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#instBEqErrorFormat"><span class="name">instBEqErrorFormat</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#BEq">BEq</a> <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#ErrorFormat">ErrorFormat</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#instBEqErrorFormat">instBEqErrorFormat</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">beq</span> := <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#_private.Mathlib.Tactic.Linter.TextBased.0.beqErrorFormat._@.Mathlib.Tactic.Linter.TextBased._hyg.236">beqErrorFormat‚úù</a> }</span></span></li></ul></details></div></div><div class="decl" id="StyleError.errorMessage"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/caac5b13fb72ba0c5d0b35a0067de108db65e964/Mathlib/Tactic/Linter/TextBased.lean#L67-L86">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#StyleError.errorMessage"><span class="name">StyleError</span>.<span class="name">errorMessage</span></a></span><span class="decl_args">
<span class="fn">(err : <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#StyleError">StyleError</a>)</span></span>
<span class="decl_args">
<span class="fn">(style : <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#ErrorFormat">ErrorFormat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#String">String</a></div></div><p>Create the underlying error message for a given <code><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#StyleError">StyleError</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-StyleError.errorMessage" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="StyleError.errorCode"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/caac5b13fb72ba0c5d0b35a0067de108db65e964/Mathlib/Tactic/Linter/TextBased.lean#L91-L96">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#StyleError.errorCode"><span class="name">StyleError</span>.<span class="name">errorCode</span></a></span><span class="decl_args">
<span class="fn">(err : <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#StyleError">StyleError</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#String">String</a></div></div><p>The error code for a given style error. Keep this in sync with <code><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#parse?_errorContext">parse?_errorContext</a></code> below!</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-StyleError.errorCode" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="ErrorContext"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/caac5b13fb72ba0c5d0b35a0067de108db65e964/Mathlib/Tactic/Linter/TextBased.lean#L100-L106">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#ErrorContext"><span class="name">ErrorContext</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>Context for a style error: the actual error, the line number in the file we're reading
and the path to the file.</p><ul class="structure_fields" id="ErrorContext.mk"><li id="ErrorContext.error" class="structure_field"><div class="structure_field_info">error : <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#StyleError">StyleError</a></div><div class="structure_field_doc"><p>The underlying <code><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#StyleError">StyleError</a></code></p></div></li><li id="ErrorContext.lineNumber" class="structure_field"><div class="structure_field_info">lineNumber : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a></div><div class="structure_field_doc"><p>The line number of the error (1-based)</p></div></li><li id="ErrorContext.path" class="structure_field"><div class="structure_field_info">path : <a href="../../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a></div><div class="structure_field_doc"><p>The path to the file which was linted</p></div></li></ul><details id="instances-for-list-ErrorContext" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="StyleError.normalise"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/caac5b13fb72ba0c5d0b35a0067de108db65e964/Mathlib/Tactic/Linter/TextBased.lean#L110-L115">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#StyleError.normalise"><span class="name">StyleError</span>.<span class="name">normalise</span></a></span><span class="decl_args">
<span class="fn">(err : <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#StyleError">StyleError</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#StyleError">StyleError</a></div></div><p>The parts of a <code><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#StyleError">StyleError</a></code> which are considered when matching against the existing
style exceptions: for example, we ignore the particular line length of a &quot;line too long&quot; error.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">err</span>.normalise</span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn">err</span> with
  | <span class="fn"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#StyleError.fileTooLong">StyleError.fileTooLong</a> <span class="fn">number_lines</span> <span class="fn">new_size_limit</span></span> =&gt; <span class="fn"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#StyleError.fileTooLong">StyleError.fileTooLong</a> <span class="fn">0</span> <span class="fn">0</span></span>
  | <span class="fn"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#StyleError.copyright">StyleError.copyright</a> <span class="fn">context</span></span> =&gt; <span class="fn"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#StyleError.copyright">StyleError.copyright</a> <span class="fn">none</span></span>
  | <span class="fn">x</span> =&gt; <span class="fn">err</span></span></span></li></ul></details><details id="instances-for-list-StyleError.normalise" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="instBEqErrorContext"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/caac5b13fb72ba0c5d0b35a0067de108db65e964/Mathlib/Tactic/Linter/TextBased.lean#L118-L123">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#instBEqErrorContext"><span class="name">instBEqErrorContext</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#BEq">BEq</a> <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#ErrorContext">ErrorContext</a></span></div></div><p>Careful: we do not want to compare <code>ErrorContexts</code> exactly; we ignore some details.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#instBEqErrorContext">instBEqErrorContext</a> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">{ <span class="fn">beq</span> := <span class="fn">fun (<span class="fn">ctx</span> <span class="fn">ctx'</span> : <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#ErrorContext">ErrorContext</a>) =&gt; <span class="fn"><span class="fn"><span class="fn"><span class="fn">ctx</span>.path</span> <a href="../../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn"><span class="fn">ctx'</span>.path</span></span> <a href="../../.././Init/Prelude.html#and">&amp;&amp;</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">ctx</span>.error</span>.normalise</span> <a href="../../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn"><span class="fn"><span class="fn">ctx'</span>.error</span>.normalise</span></span></span></span> }</span></span></li></ul></details></div></div><div class="decl" id="outputMessage"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/caac5b13fb72ba0c5d0b35a0067de108db65e964/Mathlib/Tactic/Linter/TextBased.lean#L128-L143">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#outputMessage"><span class="name">outputMessage</span></a></span><span class="decl_args">
<span class="fn">(errctx : <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#ErrorContext">ErrorContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(style : <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#ErrorFormat">ErrorFormat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#String">String</a></div></div><p>Output the formatted error message, containing its context.
<code>style</code> specifies if the error should be formatted for humans to read, github problem matchers
to consume, or for the style exceptions file.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-outputMessage" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="parse?_errorContext"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/caac5b13fb72ba0c5d0b35a0067de108db65e964/Mathlib/Tactic/Linter/TextBased.lean#L146-L184">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#parse?_errorContext"><span class="name">parse?_errorContext</span></a></span><span class="decl_args">
<span class="fn">(line : <a href="../../.././Init/Prelude.html#String">String</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#ErrorContext">ErrorContext</a></span></div></div><p>Try parsing an <code><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#ErrorContext">ErrorContext</a></code> from a string: return <code>some</code> if successful, <code>none</code> otherwise.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-parse?_errorContext" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="parseStyleExceptions"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/caac5b13fb72ba0c5d0b35a0067de108db65e964/Mathlib/Tactic/Linter/TextBased.lean#L188-L190">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#parseStyleExceptions"><span class="name">parseStyleExceptions</span></a></span><span class="decl_args">
<span class="fn">(lines : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Init/Prelude.html#String">String</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#ErrorContext">ErrorContext</a></span></div></div><p>Parse all style exceptions for a line of input.
Return an array of all exceptions which could be parsed: invalid input is ignored.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#parseStyleExceptions">parseStyleExceptions</a> <span class="fn">lines</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Init/Control/Id.html#Id.run">Id.run</a>
    <span class="fn">(<span class="fn"><a href="../../.././Init/Data/Array/Basic.html#Array.filterMap">Array.filterMap</a> <span class="fn">(<span class="fn">fun (<span class="fn">x</span> : <a href="../../.././Init/Prelude.html#String">String</a>) =&gt; <span class="fn"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#parse?_errorContext">parse?_errorContext</a> <span class="fn">x</span></span></span>)</span>
      <span class="fn">(<span class="fn"><a href="../../.././Init/Data/Array/Basic.html#Array.filter">Array.filter</a> <span class="fn">(<span class="fn">fun (<span class="fn">line</span> : <a href="../../.././Init/Prelude.html#String">String</a>) =&gt; <span class="fn"><a href="../../.././Init/Prelude.html#not">!</a><span class="fn"><span class="fn"><span class="fn">line</span>.startsWith</span> <span class="fn">&quot;--&quot;</span></span></span></span>)</span> <span class="fn">lines</span> <span class="fn">0</span></span>)</span> <span class="fn">0</span></span>)</span></span></span></li></ul></details><details id="instances-for-list-parseStyleExceptions" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="formatErrors"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/caac5b13fb72ba0c5d0b35a0067de108db65e964/Mathlib/Tactic/Linter/TextBased.lean#L195-L197">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#formatErrors"><span class="name">formatErrors</span></a></span><span class="decl_args">
<span class="fn">(errors : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#ErrorContext">ErrorContext</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(style : <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#ErrorFormat">ErrorFormat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/System/IO.html#IO">IO</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Print information about all errors encountered to standard output.
<code>style</code> specifies if the error should be formatted for humans to read, github problem matchers
to consume, or for the style exceptions file.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#formatErrors">formatErrors</a> <span class="fn">errors</span> <span class="fn">style</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  <span class="fn"><a href="../../.././Init/Core.html#ForIn.forIn">forIn</a> <span class="fn">errors</span> <a href="../../.././Init/Prelude.html#PUnit.unit">PUnit.unit</a> <span class="fn">fun (<span class="fn">e</span> : <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#ErrorContext">ErrorContext</a>) (<span class="fn">r</span> : <a href="../../.././Init/Prelude.html#PUnit">PUnit</a>) =&gt; <span class="fn">do
      <span class="fn"><a href="../../.././Init/System/IO.html#IO.println">IO.println</a> <span class="fn">(<span class="fn"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#outputMessage">outputMessage</a> <span class="fn">e</span> <span class="fn">style</span></span>)</span></span>
      <span class="fn"><a href="../../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">(<span class="fn"><a href="../../.././Init/Core.html#ForInStep.yield">ForInStep.yield</a> <a href="../../.././Init/Prelude.html#PUnit.unit">PUnit.unit</a></span>)</span></span></span></span></span>
  <span class="fn"><a href="../../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../../.././Init/Prelude.html#PUnit.unit">PUnit.unit</a></span></span></span></li></ul></details><details id="instances-for-list-formatErrors" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TextbasedLinter"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/caac5b13fb72ba0c5d0b35a0067de108db65e964/Mathlib/Tactic/Linter/TextBased.lean#L201-L201">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#TextbasedLinter"><span class="name">TextbasedLinter</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>Core logic of a text based linter: given a collection of lines,
return an array of all style errors with line numbers.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#TextbasedLinter">TextbasedLinter</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">(<span class="fn"><span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Init/Prelude.html#String">String</a></span> ‚Üí <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<span class="fn"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#StyleError">StyleError</a> <a href="../../.././Init/Prelude.html#Prod">√ó</a> <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a></span>)</span></span></span>)</span></span></li></ul></details><details id="instances-for-list-TextbasedLinter" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><p>Definitions of the actual text-based linters.</p></div><div class="decl" id="isCorrectAuthorsLine"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/caac5b13fb72ba0c5d0b35a0067de108db65e964/Mathlib/Tactic/Linter/TextBased.lean#L207-L212">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#isCorrectAuthorsLine"><span class="name">isCorrectAuthorsLine</span></a></span><span class="decl_args">
<span class="fn">(line : <a href="../../.././Init/Prelude.html#String">String</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Return if <code>line</code> looks like a correct authors line in a copyright header.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#isCorrectAuthorsLine">isCorrectAuthorsLine</a> <span class="fn">line</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">(<span class="fn"><span class="fn"><span class="fn"><span class="fn"><span class="fn"><span class="fn">line</span>.startsWith</span> <span class="fn">&quot;Authors: &quot;</span></span> <a href="../../.././Init/Prelude.html#and">&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Prelude.html#not">!</a><span class="fn"><span class="fn"><span class="fn">line</span>.containsSubstr</span> <span class="fn"><span class="fn">&quot;  &quot;</span>.toSubstring</span></span></span></span> <a href="../../.././Init/Prelude.html#and">&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Prelude.html#not">!</a><span class="fn"><span class="fn"><span class="fn">line</span>.containsSubstr</span> <span class="fn"><span class="fn">&quot; and &quot;</span>.toSubstring</span></span></span></span> <a href="../../.././Init/Prelude.html#and">&amp;&amp;</a>     <span class="fn"><a href="../../.././Init/Prelude.html#not">!</a><span class="fn"><span class="fn"><span class="fn">line</span>.endsWith</span> <span class="fn">&quot;.&quot;</span></span></span></span>)</span></span></li></ul></details><details id="instances-for-list-isCorrectAuthorsLine" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="copyrightHeaderLinter"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/caac5b13fb72ba0c5d0b35a0067de108db65e964/Mathlib/Tactic/Linter/TextBased.lean#L219-L250">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#copyrightHeaderLinter"><span class="name">copyrightHeaderLinter</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#TextbasedLinter">TextbasedLinter</a></div></div><p>Lint a collection of input lines if they are missing an appropriate copyright header.</p><p>A copyright header should start at the very beginning of the file and contain precisely five lines,
including the copy year and holder, the license and main author(s) of the file (in this order).</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-copyrightHeaderLinter" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="adaptationNoteLinter"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/caac5b13fb72ba0c5d0b35a0067de108db65e964/Mathlib/Tactic/Linter/TextBased.lean#L253-L261">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#adaptationNoteLinter"><span class="name">adaptationNoteLinter</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#TextbasedLinter">TextbasedLinter</a></div></div><p>Lint on any occurrences of the string &quot;Adaptation note:&quot; or variants thereof.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-adaptationNoteLinter" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="broadImportsLinter"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/caac5b13fb72ba0c5d0b35a0067de108db65e964/Mathlib/Tactic/Linter/TextBased.lean#L264-L289">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#broadImportsLinter"><span class="name">broadImportsLinter</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#TextbasedLinter">TextbasedLinter</a></div></div><p>Lint a collection of input strings if one of them contains an unnecessarily broad import.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-broadImportsLinter" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="isImportsOnlyFile"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/caac5b13fb72ba0c5d0b35a0067de108db65e964/Mathlib/Tactic/Linter/TextBased.lean#L293-L296">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#isImportsOnlyFile"><span class="name">isImportsOnlyFile</span></a></span><span class="decl_args">
<span class="fn">(lines : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Init/Prelude.html#String">String</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Whether a collection of lines consists <em>only</em> of imports, blank lines and single-line comments.
In practice, this means it's an imports-only file and exempt from almost all linting.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#isImportsOnlyFile">isImportsOnlyFile</a> <span class="fn">lines</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><span class="fn"><span class="fn">lines</span>.all</span> <span class="fn">(<span class="fn">fun (<span class="fn">line</span> : <a href="../../.././Init/Prelude.html#String">String</a>) =&gt; <span class="fn"><span class="fn"><span class="fn"><span class="fn"><span class="fn">line</span>.startsWith</span> <span class="fn">&quot;import &quot;</span></span> <a href="../../.././Init/Prelude.html#or">||</a> <span class="fn"><span class="fn">line</span> <a href="../../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn">&quot;&quot;</span></span></span> <a href="../../.././Init/Prelude.html#or">||</a> <span class="fn"><span class="fn"><span class="fn">line</span>.startsWith</span> <span class="fn">&quot;-- &quot;</span></span></span></span>)</span> <span class="fn">0</span></span></span></li></ul></details><details id="instances-for-list-isImportsOnlyFile" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="checkFileLength"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/caac5b13fb72ba0c5d0b35a0067de108db65e964/Mathlib/Tactic/Linter/TextBased.lean#L302-L312">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#checkFileLength"><span class="name">checkFileLength</span></a></span><span class="decl_args">
<span class="fn">(lines : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Init/Prelude.html#String">String</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(existing_limit : <span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#StyleError">StyleError</a></span></div></div><p>Error if a collection of lines is too large. &quot;Too large&quot; means more than 1500 lines
<strong>and</strong> longer than an optional previous limit.
If the file is too large, return a matching <code><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#StyleError">StyleError</a></code>, which includes a new size limit
(which is somewhat larger than the current size).</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-checkFileLength" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="allLinters"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/caac5b13fb72ba0c5d0b35a0067de108db65e964/Mathlib/Tactic/Linter/TextBased.lean#L317-L319">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#allLinters"><span class="name">allLinters</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#TextbasedLinter">TextbasedLinter</a></span></div></div><p>All text-based linters registered in this file.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#allLinters">allLinters</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">#[<a href="../../.././Mathlib/Tactic/Linter/TextBased.html#copyrightHeaderLinter">copyrightHeaderLinter</a>, <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#adaptationNoteLinter">adaptationNoteLinter</a>, <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#broadImportsLinter">broadImportsLinter</a>]</span></span></li></ul></details><details id="instances-for-list-allLinters" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="lintFile"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/caac5b13fb72ba0c5d0b35a0067de108db65e964/Mathlib/Tactic/Linter/TextBased.lean#L324-L338">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#lintFile"><span class="name">lintFile</span></a></span><span class="decl_args">
<span class="fn">(path : <a href="../../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a>)</span></span>
<span class="decl_args">
<span class="fn">(sizeLimit : <span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(exceptions : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#ErrorContext">ErrorContext</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/System/IO.html#IO">IO</a> <span class="fn">(<span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#ErrorContext">ErrorContext</a></span>)</span></span></div></div><p>Read a file and apply all text-based linters. Return a list of all unexpected errors.
<code>sizeLimit</code> is any pre-existing limit on this file's size.
<code>exceptions</code> are any other style exceptions.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-lintFile" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="lintModules"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/caac5b13fb72ba0c5d0b35a0067de108db65e964/Mathlib/Tactic/Linter/TextBased.lean#L345-L369">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#lintModules"><span class="name">lintModules</span></a></span><span class="decl_args">
<span class="fn">(moduleNames : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Init/Prelude.html#String">String</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(style : <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#ErrorFormat">ErrorFormat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/System/IO.html#IO">IO</a> <a href="../../.././Init/Prelude.html#UInt32">UInt32</a></span></div></div><p>Lint a collection of modules for style violations.
Print formatted errors for all unexpected style violations to standard output.
Return the number of files which had new style errors.
<code>style</code> specifies if the error should be formatted for humans to read, github problem matchers
to consume or for the style exceptions file.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-lintModules" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div></main>
<nav class="nav"><iframe src="../../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>