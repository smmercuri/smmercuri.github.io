{"name":"Batteries.Data.String.Matcher","instances":[],"imports":["Init","Batteries.Data.Array.Match","Batteries.Data.String.Basic"],"declarations":[{"info":{"sourceLink":"https://github.com/leanprover-community/batteries/blob/e7897807913fafdab31b01b9f627550bcc96cff2/Batteries/Data/String/Matcher.lean#L104-L105","name":"String.containsSubstr","line":104,"kind":"def","docLink":"./Batteries/Data/String/Matcher.html#String.containsSubstr","doc":"Returns true iff `pattern` occurs as a substring of `s`.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Batteries/Data/String/Matcher.html#String.containsSubstr\"><span class=\"name\">String</span>.<span class=\"name\">containsSubstr</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(s : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(pattern : <a href=\"./Init/Prelude.html#Substring\">Substring</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/batteries/blob/e7897807913fafdab31b01b9f627550bcc96cff2/Batteries/Data/String/Matcher.lean#L100-L101","name":"String.findSubstr?","line":100,"kind":"def","docLink":"./Batteries/Data/String/Matcher.html#String.findSubstr?","doc":"Returns the first substring of `s` that matches `pattern`,\nor `none` if there is no such substring.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Batteries/Data/String/Matcher.html#String.findSubstr?\"><span class=\"name\">String</span>.<span class=\"name\">findSubstr?</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(s : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(pattern : <a href=\"./Init/Prelude.html#Substring\">Substring</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Init/Prelude.html#Substring\">Substring</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/batteries/blob/e7897807913fafdab31b01b9f627550bcc96cff2/Batteries/Data/String/Matcher.lean#L96-L97","name":"String.findAllSubstr","line":96,"kind":"def","docLink":"./Batteries/Data/String/Matcher.html#String.findAllSubstr","doc":"Returns all the substrings of `s` that match `pattern`.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Batteries/Data/String/Matcher.html#String.findAllSubstr\"><span class=\"name\">String</span>.<span class=\"name\">findAllSubstr</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(s : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(pattern : <a href=\"./Init/Prelude.html#Substring\">Substring</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Init/Prelude.html#Substring\">Substring</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/batteries/blob/e7897807913fafdab31b01b9f627550bcc96cff2/Batteries/Data/String/Matcher.lean#L88-L89","name":"Substring.containsSubstr","line":88,"kind":"def","docLink":"./Batteries/Data/String/Matcher.html#Substring.containsSubstr","doc":"Returns true iff `pattern` occurs as a substring of `s`.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Batteries/Data/String/Matcher.html#Substring.containsSubstr\"><span class=\"name\">Substring</span>.<span class=\"name\">containsSubstr</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(s : <a href=\"./Init/Prelude.html#Substring\">Substring</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(pattern : <a href=\"./Init/Prelude.html#Substring\">Substring</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/batteries/blob/e7897807913fafdab31b01b9f627550bcc96cff2/Batteries/Data/String/Matcher.lean#L82-L83","name":"Substring.findSubstr?","line":82,"kind":"def","docLink":"./Batteries/Data/String/Matcher.html#Substring.findSubstr?","doc":"Returns the first substring of `s` that matches `pattern`,\nor `none` if there is no such substring.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Batteries/Data/String/Matcher.html#Substring.findSubstr?\"><span class=\"name\">Substring</span>.<span class=\"name\">findSubstr?</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(s : <a href=\"./Init/Prelude.html#Substring\">Substring</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(pattern : <a href=\"./Init/Prelude.html#Substring\">Substring</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Init/Prelude.html#Substring\">Substring</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/batteries/blob/e7897807913fafdab31b01b9f627550bcc96cff2/Batteries/Data/String/Matcher.lean#L75-L76","name":"Substring.findAllSubstr","line":75,"kind":"def","docLink":"./Batteries/Data/String/Matcher.html#Substring.findAllSubstr","doc":"Returns all the substrings of `s` that match `pattern`.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Batteries/Data/String/Matcher.html#Substring.findAllSubstr\"><span class=\"name\">Substring</span>.<span class=\"name\">findAllSubstr</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(s : <a href=\"./Init/Prelude.html#Substring\">Substring</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(pattern : <a href=\"./Init/Prelude.html#Substring\">Substring</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Init/Prelude.html#Substring\">Substring</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/batteries/blob/e7897807913fafdab31b01b9f627550bcc96cff2/Batteries/Data/String/Matcher.lean#L60-L66","name":"String.Matcher.find?","line":60,"kind":"def","docLink":"./Batteries/Data/String/Matcher.html#String.Matcher.find?","doc":"Find the first substring of `s` matching `m.pattern`, or `none` if no such substring exists. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Batteries/Data/String/Matcher.html#String.Matcher.find?\"><span class=\"name\">String</span>.<span class=\"name\">Matcher</span>.<span class=\"name\">find?</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(m : <a href=\"./Batteries/Data/String/Matcher.html#String.Matcher\">String.Matcher</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(s : <a href=\"./Init/Prelude.html#Substring\">Substring</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Init/Prelude.html#Substring\">Substring</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/batteries/blob/e7897807913fafdab31b01b9f627550bcc96cff2/Batteries/Data/String/Matcher.lean#L51-L57","name":"String.Matcher.findAll.loop","line":51,"kind":"opaque","docLink":"./Batteries/Data/String/Matcher.html#String.Matcher.findAll.loop","doc":"Accumulator loop for `String.Matcher.findAll` "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">partial def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Batteries/Data/String/Matcher.html#String.Matcher.findAll.loop\"><span class=\"name\">String</span>.<span class=\"name\">Matcher</span>.<span class=\"name\">findAll</span>.<span class=\"name\">loop</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(m : <a href=\"./Batteries/Data/String/Matcher.html#String.Matcher\">String.Matcher</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(s : <a href=\"./Init/Prelude.html#Substring\">Substring</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(am : <span class=\"fn\"><a href=\"./Batteries/Data/Array/Match.html#Array.Matcher\">Array.Matcher</a> <a href=\"./Init/Prelude.html#Char\">Char</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(occs : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Init/Prelude.html#Substring\">Substring</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Init/Prelude.html#Substring\">Substring</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/batteries/blob/e7897807913fafdab31b01b9f627550bcc96cff2/Batteries/Data/String/Matcher.lean#L47-L57","name":"String.Matcher.findAll","line":47,"kind":"def","docLink":"./Batteries/Data/String/Matcher.html#String.Matcher.findAll","doc":"Find all substrings of `s` matching `m.pattern`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Batteries/Data/String/Matcher.html#String.Matcher.findAll\"><span class=\"name\">String</span>.<span class=\"name\">Matcher</span>.<span class=\"name\">findAll</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(m : <a href=\"./Batteries/Data/String/Matcher.html#String.Matcher\">String.Matcher</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(s : <a href=\"./Init/Prelude.html#Substring\">Substring</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Init/Prelude.html#Substring\">Substring</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/batteries/blob/e7897807913fafdab31b01b9f627550bcc96cff2/Batteries/Data/String/Matcher.lean#L44-L44","name":"String.Matcher.patternSize","line":44,"kind":"def","docLink":"./Batteries/Data/String/Matcher.html#String.Matcher.patternSize","doc":"The byte size of the string pattern for the matcher "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Batteries/Data/String/Matcher.html#String.Matcher.patternSize\"><span class=\"name\">String</span>.<span class=\"name\">Matcher</span>.<span class=\"name\">patternSize</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(m : <a href=\"./Batteries/Data/String/Matcher.html#String.Matcher\">String.Matcher</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Nat\">Nat</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/batteries/blob/e7897807913fafdab31b01b9f627550bcc96cff2/Batteries/Data/String/Matcher.lean#L40-L41","name":"String.Matcher.ofString","line":40,"kind":"def","docLink":"./Batteries/Data/String/Matcher.html#String.Matcher.ofString","doc":"Make KMP matcher from pattern string "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Batteries/Data/String/Matcher.html#String.Matcher.ofString\"><span class=\"name\">String</span>.<span class=\"name\">Matcher</span>.<span class=\"name\">ofString</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(pattern : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Batteries/Data/String/Matcher.html#String.Matcher\">String.Matcher</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/batteries/blob/e7897807913fafdab31b01b9f627550bcc96cff2/Batteries/Data/String/Matcher.lean#L35-L37","name":"String.Matcher.ofSubstring","line":35,"kind":"def","docLink":"./Batteries/Data/String/Matcher.html#String.Matcher.ofSubstring","doc":"Make KMP matcher from pattern substring "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Batteries/Data/String/Matcher.html#String.Matcher.ofSubstring\"><span class=\"name\">String</span>.<span class=\"name\">Matcher</span>.<span class=\"name\">ofSubstring</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(pattern : <a href=\"./Init/Prelude.html#Substring\">Substring</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Batteries/Data/String/Matcher.html#String.Matcher\">String.Matcher</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/batteries/blob/e7897807913fafdab31b01b9f627550bcc96cff2/Batteries/Data/String/Matcher.lean#L32-L32","name":"String.Matcher.pattern","line":32,"kind":"def","docLink":"./Batteries/Data/String/Matcher.html#String.Matcher.pattern","doc":"The pattern for the matcher "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Batteries/Data/String/Matcher.html#String.Matcher.pattern\"><span class=\"name\">String</span>.<span class=\"name\">Matcher</span>.<span class=\"name\">pattern</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Batteries/Data/String/Matcher.html#String.Matcher\">String.Matcher</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Substring\">Substring</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/batteries/blob/e7897807913fafdab31b01b9f627550bcc96cff2/Batteries/Data/String/Matcher.lean#L30-L30","name":"String.Matcher.mk","line":30,"kind":"ctor","docLink":"./Batteries/Data/String/Matcher.html#String.Matcher.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Batteries/Data/String/Matcher.html#String.Matcher.mk\"><span class=\"name\">String</span>.<span class=\"name\">Matcher</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(toMatcher : <span class=\"fn\"><a href=\"./Batteries/Data/Array/Match.html#Array.Matcher\">Array.Matcher</a> <a href=\"./Init/Prelude.html#Char\">Char</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(pattern : <a href=\"./Init/Prelude.html#Substring\">Substring</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Batteries/Data/String/Matcher.html#String.Matcher\">String.Matcher</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/batteries/blob/e7897807913fafdab31b01b9f627550bcc96cff2/Batteries/Data/String/Matcher.lean#L30-L32","name":"String.Matcher","line":30,"kind":"structure","docLink":"./Batteries/Data/String/Matcher.html#String.Matcher","doc":"Knuth-Morris-Pratt matcher type\n\nThis type is used to keep data for running the Knuth-Morris-Pratt (KMP) string matching algorithm.\nKMP is a linear time algorithm to locate all substrings of a string that match a given pattern.\nGenerating the algorithm data is also linear in the length of the pattern but the data can be\nre-used to match the same pattern over different strings.\n\nThe KMP data for a pattern string can be generated using `Matcher.ofString`. Then `Matcher.find?`\nand `Matcher.findAll` can be used to run the algorithm on an input string.\n```\ndef m := Matcher.ofString \"abba\"\n\n#eval Option.isSome <| m.find? \"AbbabbA\" -- false\n#eval Option.isSome <| m.find? \"aabbaa\" -- true\n\n#eval Array.size <| m.findAll \"abbabba\" -- 2\n#eval Array.size <| m.findAll \"abbabbabba\" -- 3\n```\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Batteries/Data/String/Matcher.html#String.Matcher\"><span class=\"name\">String</span>.<span class=\"name\">Matcher</span></a></span><span class=\"decl_extends\">extends</span><span class=\"decl_parent\">\n<span class=\"fn\"><a class=\"break_within\" href=\"./Batteries/Data/Array/Match.html#Array.Matcher\"><span class=\"name\">Array</span>.<span class=\"name\">Matcher</span></a></span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"}]}