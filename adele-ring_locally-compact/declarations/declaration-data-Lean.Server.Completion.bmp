{"name":"Lean.Server.Completion","instances":[{"typeNames":["Lean.Lsp.CompletionIdentifier"],"name":"Lean.Lsp.instFromJsonCompletionIdentifier","className":"Lean.FromJson"},{"typeNames":["Lean.Lsp.CompletionIdentifier"],"name":"Lean.Lsp.instToJsonCompletionIdentifier","className":"Lean.ToJson"},{"typeNames":["Lean.Lsp.CompletionItemDataWithId"],"name":"Lean.Lsp.instFromJsonCompletionItemDataWithId","className":"Lean.FromJson"},{"typeNames":["Lean.Lsp.CompletionItemDataWithId"],"name":"Lean.Lsp.instToJsonCompletionItemDataWithId","className":"Lean.ToJson"}],"imports":["Lean.Environment","Lean.Parser.Term","Lean.Data.FuzzyMatching","Lean.Data.Lsp.LanguageFeatures","Lean.Data.Lsp.Capabilities","Lean.Data.Lsp.Utf16","Lean.Meta.CompletionName","Lean.Meta.Tactic.Apply","Lean.Meta.Match.MatcherInfo","Lean.Server.InfoUtils","Lean.Parser.Extension","Lean.Server.FileSource","Lean.Server.CompletionItemData"],"declarations":[{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Completion.lean#L752-L761","name":"Lean.Server.Completion.resolveCompletionItem?","line":752,"kind":"def","docLink":"./Lean/Server/Completion.html#Lean.Server.Completion.resolveCompletionItem?","doc":"Fills the `CompletionItem.detail?` field of `item` using the pretty-printed type identified by `id`\nin the context found at `hoverPos` in `infoTree`.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Completion.html#Lean.Server.Completion.resolveCompletionItem?\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Completion</span>.<span class=\"name\">resolveCompletionItem?</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(fileMap : <a href=\"./Lean/Data/Position.html#Lean.FileMap\">Lean.FileMap</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(hoverPos : <a href=\"./Init/Prelude.html#String.Pos\">String.Pos</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(infoTree : <a href=\"./Lean/Elab/InfoTree/Types.html#Lean.Elab.InfoTree\">Lean.Elab.InfoTree</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(item : <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.CompletionItem\">Lean.Lsp.CompletionItem</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(id : <a href=\"./Lean/Server/Completion.html#Lean.Lsp.CompletionIdentifier\">Lean.Lsp.CompletionIdentifier</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.CompletionItem\">Lean.Lsp.CompletionItem</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Completion.lean#L722-L746","name":"Lean.Server.Completion.find?","line":722,"kind":"def","docLink":"./Lean/Server/Completion.html#Lean.Server.Completion.find?","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Completion.html#Lean.Server.Completion.find?\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Completion</span>.<span class=\"name\">find?</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(params : <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.CompletionParams\">Lean.Lsp.CompletionParams</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(fileMap : <a href=\"./Lean/Data/Position.html#Lean.FileMap\">Lean.FileMap</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(hoverPos : <a href=\"./Init/Prelude.html#String.Pos\">String.Pos</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(infoTree : <a href=\"./Lean/Elab/InfoTree/Types.html#Lean.Elab.InfoTree\">Lean.Elab.InfoTree</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(caps : <a href=\"./Lean/Data/Lsp/Capabilities.html#Lean.Lsp.ClientCapabilities\">Lean.Lsp.ClientCapabilities</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.CompletionList\">Lean.Lsp.CompletionList</a></span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Completion.lean#L487-L487","name":"Lean.Server.Completion.NameSetModPrivate","line":487,"kind":"def","docLink":"./Lean/Server/Completion.html#Lean.Server.Completion.NameSetModPrivate","doc":"`NameSet` where names are compared according to `cmpModPrivate`.\nHelps speed up dot completion because it allows us to look up names without first having to\nstrip the private prefix from deep in the name, letting us reject most names without\nhaving to scan the full name first.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Completion.html#Lean.Server.Completion.NameSetModPrivate\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Completion</span>.<span class=\"name\">NameSetModPrivate</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Completion.lean#L463-L479","name":"Lean.Server.Completion.cmpModPrivate","line":463,"kind":"opaque","docLink":"./Lean/Server/Completion.html#Lean.Server.Completion.cmpModPrivate","doc":"Compares `n₁` and `n₂` modulo private prefixes. Similar to `Name.cmp` but ignores all\nprivate prefixes in both names.\nNecessary because the namespaces of private names do not contain private prefixes.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">partial def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Completion.html#Lean.Server.Completion.cmpModPrivate\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Completion</span>.<span class=\"name\">cmpModPrivate</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(n₁ : <a href=\"./Init/Prelude.html#Lean.Name\">Lake.Name</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(n₂ : <a href=\"./Init/Prelude.html#Lean.Name\">Lake.Name</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Data/Ord.html#Ordering\">Ordering</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Completion.lean#L309-L315","name":"Lean.Server.Completion.completeNamespaces.visitNamespaces","line":309,"kind":"def","docLink":"./Lean/Server/Completion.html#Lean.Server.Completion.completeNamespaces.visitNamespaces","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Completion.html#Lean.Server.Completion.completeNamespaces.visitNamespaces\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Completion</span>.<span class=\"name\">completeNamespaces</span>.<span class=\"name\">visitNamespaces</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(id : <a href=\"./Init/Prelude.html#Lean.Name\">Lake.Name</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(danglingDot : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(add : <span class=\"fn\"><a href=\"./Init/Prelude.html#Lean.Name\">Lake.Name</a> → <a href=\"./Init/Prelude.html#Lean.Name\">Lake.Name</a> → <span class=\"fn\"><a href=\"./Init/Data/Float.html#Float\">Float</a> → <span class=\"fn\"><a href=\"./Lean/Server/Completion.html#Lean.Server.Completion.M\">Lean.Server.Completion.M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(ns : <a href=\"./Init/Prelude.html#Lean.Name\">Lake.Name</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(ns' : <a href=\"./Init/Prelude.html#Lean.Name\">Lake.Name</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Completion.html#Lean.Server.Completion.M\">Lean.Server.Completion.M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Completion.lean#L292-L316","name":"Lean.Server.Completion.completeNamespaces","line":292,"kind":"def","docLink":"./Lean/Server/Completion.html#Lean.Server.Completion.completeNamespaces","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Completion.html#Lean.Server.Completion.completeNamespaces\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Completion</span>.<span class=\"name\">completeNamespaces</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(ctx : <a href=\"./Lean/Elab/InfoTree/Types.html#Lean.Elab.ContextInfo\">Lean.Elab.ContextInfo</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(id : <a href=\"./Init/Prelude.html#Lean.Name\">Lake.Name</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(danglingDot : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Completion.html#Lean.Server.Completion.M\">Lean.Server.Completion.M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Completion.lean#L280-L290","name":"Lean.Server.Completion.matchNamespace","line":280,"kind":"def","docLink":"./Lean/Server/Completion.html#Lean.Server.Completion.matchNamespace","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Completion.html#Lean.Server.Completion.matchNamespace\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Completion</span>.<span class=\"name\">matchNamespace</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(ns : <a href=\"./Init/Prelude.html#Lean.Name\">Lake.Name</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(nsFragment : <a href=\"./Init/Prelude.html#Lean.Name\">Lake.Name</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(danglingDot : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Init/Data/Float.html#Float\">Float</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Completion.lean#L278-L278","name":"Lean.Server.Completion.HoverInfo.inside","line":278,"kind":"ctor","docLink":"./Lean/Server/Completion.html#Lean.Server.Completion.HoverInfo.inside","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Completion.html#Lean.Server.Completion.HoverInfo.inside\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Completion</span>.<span class=\"name\">HoverInfo</span>.<span class=\"name\">inside</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(delta : <a href=\"./Init/Prelude.html#Nat\">Nat</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Completion.html#Lean.Server.Completion.HoverInfo\">Lean.Server.Completion.HoverInfo</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Completion.lean#L277-L277","name":"Lean.Server.Completion.HoverInfo.after","line":277,"kind":"ctor","docLink":"./Lean/Server/Completion.html#Lean.Server.Completion.HoverInfo.after","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Completion.html#Lean.Server.Completion.HoverInfo.after\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Completion</span>.<span class=\"name\">HoverInfo</span>.<span class=\"name\">after</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Completion.html#Lean.Server.Completion.HoverInfo\">Lean.Server.Completion.HoverInfo</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Completion.lean#L276-L278","name":"Lean.Server.Completion.HoverInfo","line":276,"kind":"inductive","docLink":"./Lean/Server/Completion.html#Lean.Server.Completion.HoverInfo","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">inductive</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Completion.html#Lean.Server.Completion.HoverInfo\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Completion</span>.<span class=\"name\">HoverInfo</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Completion.lean#L139-L139","name":"Lean.Server.Completion.M","line":139,"kind":"def","docLink":"./Lean/Server/Completion.html#Lean.Server.Completion.M","doc":"Monad used for completion computation that allows modifying a completion `State` and reading\n`CompletionParams`.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Completion.html#Lean.Server.Completion.M\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Completion</span>.<span class=\"name\">M</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(α : <a href=\"./foundational_types.html\">Type</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Completion.lean#L133-L133","name":"Lean.Server.Completion.State.items","line":133,"kind":"def","docLink":"./Lean/Server/Completion.html#Lean.Server.Completion.State.items","doc":"All completion items and their fuzzy match scores so far. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Completion.html#Lean.Server.Completion.State.items\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Completion</span>.<span class=\"name\">State</span>.<span class=\"name\">items</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Completion.html#Lean.Server.Completion.State\">Lean.Server.Completion.State</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.CompletionItem\">Lean.Lsp.CompletionItem</a> <a href=\"./Init/Prelude.html#Prod\">×</a> <a href=\"./Init/Data/Float.html#Float\">Float</a></span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Completion.lean#L131-L131","name":"Lean.Server.Completion.State.mk","line":131,"kind":"ctor","docLink":"./Lean/Server/Completion.html#Lean.Server.Completion.State.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Completion.html#Lean.Server.Completion.State.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Completion</span>.<span class=\"name\">State</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(items : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.CompletionItem\">Lean.Lsp.CompletionItem</a> <a href=\"./Init/Prelude.html#Prod\">×</a> <a href=\"./Init/Data/Float.html#Float\">Float</a></span>)</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Completion.html#Lean.Server.Completion.State\">Lean.Server.Completion.State</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Completion.lean#L131-L133","name":"Lean.Server.Completion.State","line":131,"kind":"structure","docLink":"./Lean/Server/Completion.html#Lean.Server.Completion.State","doc":"Intermediate state while completions are being computed. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Completion.html#Lean.Server.Completion.State\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Completion</span>.<span class=\"name\">State</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Completion.lean#L88-L96","name":"Lean.Server.Completion.fillEligibleHeaderDecls","line":88,"kind":"def","docLink":"./Lean/Server/Completion.html#Lean.Server.Completion.fillEligibleHeaderDecls","doc":"Caches the declarations in the header for which `allowCompletion headerEnv decl` is true. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Completion.html#Lean.Server.Completion.fillEligibleHeaderDecls\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Completion</span>.<span class=\"name\">fillEligibleHeaderDecls</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(headerEnv : <a href=\"./Lean/Environment.html#Lean.Environment\">Lean.Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Completion.lean#L84-L85","name":"Lean.Server.Completion.eligibleHeaderDeclsRef","line":84,"kind":"opaque","docLink":"./Lean/Server/Completion.html#Lean.Server.Completion.eligibleHeaderDeclsRef","doc":"Cached header declarations for which `allowCompletion headerEnv decl` is true. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Completion.html#Lean.Server.Completion.eligibleHeaderDeclsRef\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Completion</span>.<span class=\"name\">eligibleHeaderDeclsRef</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Ref\">IO.Ref</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Lean/Data/HashMap.html#Lean.HashMap\">Lean.HashMap</a> <a href=\"./Init/Prelude.html#Lean.Name\">Lake.Name</a> <a href=\"./Lean/Declaration.html#Lean.ConstantInfo\">Lean.ConstantInfo</a></span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Completion.lean#L55-L74","name":"Lean.Lsp.CompletionItem.resolve","line":55,"kind":"def","docLink":"./Lean/Server/Completion.html#Lean.Lsp.CompletionItem.resolve","doc":"Fills the `CompletionItem.detail?` field of `item` using the pretty-printed type identified by `id`.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Completion.html#Lean.Lsp.CompletionItem.resolve\"><span class=\"name\">Lean</span>.<span class=\"name\">Lsp</span>.<span class=\"name\">CompletionItem</span>.<span class=\"name\">resolve</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(item : <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.CompletionItem\">Lean.Lsp.CompletionItem</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(id : <a href=\"./Lean/Server/Completion.html#Lean.Lsp.CompletionIdentifier\">Lean.Lsp.CompletionIdentifier</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Meta/Basic.html#Lean.Meta.MetaM\">Lean.MetaM</a> <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.CompletionItem\">Lean.Lsp.CompletionItem</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Completion.lean#L50-L50","name":"Lean.Lsp.instToJsonCompletionItemDataWithId","line":50,"kind":"instance","docLink":"./Lean/Server/Completion.html#Lean.Lsp.instToJsonCompletionItemDataWithId","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Completion.html#Lean.Lsp.instToJsonCompletionItemDataWithId\"><span class=\"name\">Lean</span>.<span class=\"name\">Lsp</span>.<span class=\"name\">instToJsonCompletionItemDataWithId</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Json/FromToJson.html#Lean.ToJson\">Lean.ToJson</a> <a href=\"./Lean/Server/Completion.html#Lean.Lsp.CompletionItemDataWithId\">Lean.Lsp.CompletionItemDataWithId</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Completion.lean#L50-L50","name":"Lean.Lsp.instFromJsonCompletionItemDataWithId","line":50,"kind":"instance","docLink":"./Lean/Server/Completion.html#Lean.Lsp.instFromJsonCompletionItemDataWithId","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Completion.html#Lean.Lsp.instFromJsonCompletionItemDataWithId\"><span class=\"name\">Lean</span>.<span class=\"name\">Lsp</span>.<span class=\"name\">instFromJsonCompletionItemDataWithId</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Json/FromToJson.html#Lean.FromJson\">Lean.FromJson</a> <a href=\"./Lean/Server/Completion.html#Lean.Lsp.CompletionItemDataWithId\">Lean.Lsp.CompletionItemDataWithId</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Completion.lean#L49-L49","name":"Lean.Lsp.CompletionItemDataWithId.id?","line":49,"kind":"def","docLink":"./Lean/Server/Completion.html#Lean.Lsp.CompletionItemDataWithId.id?","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Completion.html#Lean.Lsp.CompletionItemDataWithId.id?\"><span class=\"name\">Lean</span>.<span class=\"name\">Lsp</span>.<span class=\"name\">CompletionItemDataWithId</span>.<span class=\"name\">id?</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Completion.html#Lean.Lsp.CompletionItemDataWithId\">Lean.Lsp.CompletionItemDataWithId</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Lean/Server/Completion.html#Lean.Lsp.CompletionIdentifier\">Lean.Lsp.CompletionIdentifier</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Completion.lean#L48-L48","name":"Lean.Lsp.CompletionItemDataWithId.mk","line":48,"kind":"ctor","docLink":"./Lean/Server/Completion.html#Lean.Lsp.CompletionItemDataWithId.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Completion.html#Lean.Lsp.CompletionItemDataWithId.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Lsp</span>.<span class=\"name\">CompletionItemDataWithId</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(toCompletionItemData : <a href=\"./Lean/Server/CompletionItemData.html#Lean.Lsp.CompletionItemData\">Lean.Lsp.CompletionItemData</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(id? : <span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Lean/Server/Completion.html#Lean.Lsp.CompletionIdentifier\">Lean.Lsp.CompletionIdentifier</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Completion.html#Lean.Lsp.CompletionItemDataWithId\">Lean.Lsp.CompletionItemDataWithId</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Completion.lean#L48-L50","name":"Lean.Lsp.CompletionItemDataWithId","line":48,"kind":"structure","docLink":"./Lean/Server/Completion.html#Lean.Lsp.CompletionItemDataWithId","doc":"`CompletionItemData` that also contains a `CompletionIdentifier`.\nSee the documentation of`CompletionItemData` and `CompletionIdentifier`.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Completion.html#Lean.Lsp.CompletionItemDataWithId\"><span class=\"name\">Lean</span>.<span class=\"name\">Lsp</span>.<span class=\"name\">CompletionItemDataWithId</span></a></span><span class=\"decl_extends\">extends</span><span class=\"decl_parent\">\n<span class=\"fn\"><a class=\"break_within\" href=\"./Lean/Server/CompletionItemData.html#Lean.Lsp.CompletionItemData\"><span class=\"name\">Lean</span>.<span class=\"name\">Lsp</span>.<span class=\"name\">CompletionItemData</span></a></span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Completion.lean#L42-L42","name":"Lean.Lsp.instToJsonCompletionIdentifier","line":42,"kind":"instance","docLink":"./Lean/Server/Completion.html#Lean.Lsp.instToJsonCompletionIdentifier","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Completion.html#Lean.Lsp.instToJsonCompletionIdentifier\"><span class=\"name\">Lean</span>.<span class=\"name\">Lsp</span>.<span class=\"name\">instToJsonCompletionIdentifier</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Json/FromToJson.html#Lean.ToJson\">Lean.ToJson</a> <a href=\"./Lean/Server/Completion.html#Lean.Lsp.CompletionIdentifier\">Lean.Lsp.CompletionIdentifier</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Completion.lean#L42-L42","name":"Lean.Lsp.instFromJsonCompletionIdentifier","line":42,"kind":"instance","docLink":"./Lean/Server/Completion.html#Lean.Lsp.instFromJsonCompletionIdentifier","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Completion.html#Lean.Lsp.instFromJsonCompletionIdentifier\"><span class=\"name\">Lean</span>.<span class=\"name\">Lsp</span>.<span class=\"name\">instFromJsonCompletionIdentifier</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Json/FromToJson.html#Lean.FromJson\">Lean.FromJson</a> <a href=\"./Lean/Server/Completion.html#Lean.Lsp.CompletionIdentifier\">Lean.Lsp.CompletionIdentifier</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Completion.lean#L41-L41","name":"Lean.Lsp.CompletionIdentifier.fvar","line":41,"kind":"ctor","docLink":"./Lean/Server/Completion.html#Lean.Lsp.CompletionIdentifier.fvar","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Completion.html#Lean.Lsp.CompletionIdentifier.fvar\"><span class=\"name\">Lean</span>.<span class=\"name\">Lsp</span>.<span class=\"name\">CompletionIdentifier</span>.<span class=\"name\">fvar</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(id : <a href=\"./Lean/Expr.html#Lean.FVarId\">Lean.FVarId</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Completion.html#Lean.Lsp.CompletionIdentifier\">Lean.Lsp.CompletionIdentifier</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Completion.lean#L40-L40","name":"Lean.Lsp.CompletionIdentifier.const","line":40,"kind":"ctor","docLink":"./Lean/Server/Completion.html#Lean.Lsp.CompletionIdentifier.const","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Completion.html#Lean.Lsp.CompletionIdentifier.const\"><span class=\"name\">Lean</span>.<span class=\"name\">Lsp</span>.<span class=\"name\">CompletionIdentifier</span>.<span class=\"name\">const</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(declName : <a href=\"./Init/Prelude.html#Lean.Name\">Lake.Name</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Completion.html#Lean.Lsp.CompletionIdentifier\">Lean.Lsp.CompletionIdentifier</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Completion.lean#L39-L42","name":"Lean.Lsp.CompletionIdentifier","line":39,"kind":"inductive","docLink":"./Lean/Server/Completion.html#Lean.Lsp.CompletionIdentifier","doc":"Identifier that is sent from the server to the client as part of the `CompletionItem.data?` field.\nNeeded to resolve the `CompletionItem` when the client sends a `completionItem/resolve` request\nfor that item, again containing the `data?` field provided by the server.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">inductive</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Completion.html#Lean.Lsp.CompletionIdentifier\"><span class=\"name\">Lean</span>.<span class=\"name\">Lsp</span>.<span class=\"name\">CompletionIdentifier</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"}]}