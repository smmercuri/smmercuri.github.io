{"name":"Lean.Server.Watchdog","instances":[{"typeNames":["Lean.Server.Watchdog.CallHierarchyItemData"],"name":"Lean.Server.Watchdog.instFromJsonCallHierarchyItemData","className":"Lean.FromJson"},{"typeNames":["Lean.Server.Watchdog.CallHierarchyItemData"],"name":"Lean.Server.Watchdog.instToJsonCallHierarchyItemData","className":"Lean.ToJson"}],"imports":["Init.System.IO","Init.Data.ByteArray","Lean.Data.RBMap","Lean.Util.Paths","Lean.Data.FuzzyMatching","Lean.Data.Json","Lean.Data.Lsp","Lean.Server.Utils","Lean.Server.Requests","Lean.Server.References"],"declarations":[{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L974-L983","name":"Lean.Server.Watchdog.watchdogMain","line":974,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.watchdogMain","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.watchdogMain\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">watchdogMain</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(args : <span class=\"fn\"><a href=\"./Init/Prelude.html#List\">List</a> <a href=\"./Init/Prelude.html#String\">String</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#UInt32\">UInt32</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L926-L971","name":"Lean.Server.Watchdog.initAndRunWatchdog","line":926,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.initAndRunWatchdog","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.initAndRunWatchdog\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">initAndRunWatchdog</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(args : <span class=\"fn\"><a href=\"./Init/Prelude.html#List\">List</a> <a href=\"./Init/Prelude.html#String\">String</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(i : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(o : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(e : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L910-L924","name":"Lean.Server.Watchdog.startLoadingReferences","line":910,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.startLoadingReferences","doc":"Starts loading .ileans present in the search path asynchronously in an IO task.\nThis ensures that server startup is not blocked by loading the .ileans.\nIn return, while the .ileans are being loaded, users will only get incomplete\nresults in requests that need references.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.startLoadingReferences\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">startLoadingReferences</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(references : <span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Ref\">IO.Ref</a> <a href=\"./Lean/Server/References.html#Lean.Server.References\">Lean.Server.References</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L895-L902","name":"Lean.Server.Watchdog.findWorkerPath","line":895,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.findWorkerPath","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.findWorkerPath\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">findWorkerPath</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/System/FilePath.html#System.FilePath\">Lake.FilePath</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L879-L893","name":"Lean.Server.Watchdog.initAndRunWatchdogAux","line":879,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.initAndRunWatchdogAux","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.initAndRunWatchdogAux\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">initAndRunWatchdogAux</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L839-L877","name":"Lean.Server.Watchdog.mkLeanServerCapabilities","line":839,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.mkLeanServerCapabilities","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.mkLeanServerCapabilities\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">mkLeanServerCapabilities</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Data/Lsp/Capabilities.html#Lean.Lsp.ServerCapabilities\">Lean.Lsp.ServerCapabilities</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L796-L836","name":"Lean.Server.Watchdog.mainLoop","line":796,"kind":"opaque","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.mainLoop","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">partial def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.mainLoop\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">mainLoop</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(clientTask : <span class=\"fn\"><a href=\"./Init/Core.html#Task\">Task</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerEvent\">Lean.Server.Watchdog.ServerEvent</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L785-L794","name":"Lean.Server.Watchdog.runClientTask","line":785,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.runClientTask","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.runClientTask\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">runClientTask</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Init/Core.html#Task\">Task</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerEvent\">Lean.Server.Watchdog.ServerEvent</a></span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L783-L783","name":"Lean.Server.Watchdog.ServerEvent.clientError","line":783,"kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerEvent.clientError","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerEvent.clientError\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerEvent</span>.<span class=\"name\">clientError</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(e : <a href=\"./Init/System/IOError.html#IO.Error\">IO.Error</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerEvent\">Lean.Server.Watchdog.ServerEvent</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L782-L782","name":"Lean.Server.Watchdog.ServerEvent.clientMsg","line":782,"kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerEvent.clientMsg","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerEvent.clientMsg\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerEvent</span>.<span class=\"name\">clientMsg</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(msg : <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.Message\">Lean.JsonRpc.Message</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerEvent\">Lean.Server.Watchdog.ServerEvent</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L781-L781","name":"Lean.Server.Watchdog.ServerEvent.workerEvent","line":781,"kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerEvent.workerEvent","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerEvent.workerEvent\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerEvent</span>.<span class=\"name\">workerEvent</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(fw : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(ev : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent\">Lean.Server.Watchdog.WorkerEvent</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerEvent\">Lean.Server.Watchdog.ServerEvent</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L780-L783","name":"Lean.Server.Watchdog.ServerEvent","line":780,"kind":"inductive","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerEvent","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">inductive</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerEvent\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerEvent</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L773-L778","name":"Lean.Server.Watchdog.shutdown","line":773,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.shutdown","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.shutdown\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">shutdown</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L746-L769","name":"Lean.Server.Watchdog.handleNotification","line":746,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleNotification","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleNotification\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleNotification</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(method : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(params : <a href=\"./Lean/Data/Json/Basic.html#Lean.Json\">Lean.Json</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L701-L744","name":"Lean.Server.Watchdog.handleRequest","line":701,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleRequest","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleRequest\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleRequest</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(id : <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.RequestID\">Lean.JsonRpc.RequestID</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(method : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(params : <a href=\"./Lean/Data/Json/Basic.html#Lean.Json\">Lean.Json</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L674-L699","name":"Lean.Server.Watchdog.forwardRequestToWorker","line":674,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.forwardRequestToWorker","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.forwardRequestToWorker\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">forwardRequestToWorker</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(id : <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.RequestID\">Lean.JsonRpc.RequestID</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(method : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(params : <a href=\"./Lean/Data/Json/Basic.html#Lean.Json\">Lean.Json</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L667-L672","name":"Lean.Server.Watchdog.parseParams","line":667,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.parseParams","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.parseParams\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">parseParams</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(paramType : <a href=\"./foundational_types.html\">Type</a>)</span></span>\n<span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Lean/Data/Json/FromToJson.html#Lean.FromJson\">Lean.FromJson</a> <span class=\"fn\">paramType</span></span>]</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(params : <a href=\"./Lean/Data/Json/Basic.html#Lean.Json\">Lean.Json</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <span class=\"fn\">paramType</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L661-L663","name":"Lean.Server.Watchdog.forwardNotification","line":661,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.forwardNotification","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.forwardNotification\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">forwardNotification</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{α : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Lean/Data/Json/FromToJson.html#Lean.ToJson\">Lean.ToJson</a> <span class=\"fn\">α</span></span>]</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Lean/Server/FileSource.html#Lean.Lsp.FileSource\">Lean.Lsp.FileSource</a> <span class=\"fn\">α</span></span>]</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(method : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(params : <span class=\"fn\">α</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L653-L659","name":"Lean.Server.Watchdog.handleCancelRequest","line":653,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleCancelRequest","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleCancelRequest\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleCancelRequest</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.CancelParams\">Lean.Lsp.CancelParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L633-L651","name":"Lean.Server.Watchdog.handleDidChangeWatchedFiles","line":633,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleDidChangeWatchedFiles","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleDidChangeWatchedFiles\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleDidChangeWatchedFiles</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/Workspace.html#Lean.Lsp.DidChangeWatchedFilesParams\">Lean.Lsp.DidChangeWatchedFilesParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L630-L631","name":"Lean.Server.Watchdog.handleDidClose","line":630,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleDidClose","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleDidClose\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleDidClose</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/TextSync.html#Lean.Lsp.DidCloseTextDocumentParams\">Lean.Lsp.DidCloseTextDocumentParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L616-L628","name":"Lean.Server.Watchdog.handleDidChange","line":616,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleDidChange","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleDidChange\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleDidChange</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/TextSync.html#Lean.Lsp.DidChangeTextDocumentParams\">Lean.Lsp.DidChangeTextDocumentParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L607-L614","name":"Lean.Server.Watchdog.handleDidOpen","line":607,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleDidOpen","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleDidOpen\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleDidOpen</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/Extra.html#Lean.Lsp.LeanDidOpenTextDocumentParams\">Lean.Lsp.LeanDidOpenTextDocumentParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L586-L602","name":"Lean.Server.Watchdog.handleRename","line":586,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleRename","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleRename\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleRename</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.RenameParams\">Lean.Lsp.RenameParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.WorkspaceEdit\">Lean.Lsp.WorkspaceEdit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L577-L584","name":"Lean.Server.Watchdog.handlePrepareRename","line":577,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handlePrepareRename","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handlePrepareRename\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handlePrepareRename</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.PrepareRenameParams\">Lean.Lsp.PrepareRenameParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.Range\">Lean.Lsp.Range</a></span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L559-L575","name":"Lean.Server.Watchdog.handleWorkspaceSymbol","line":559,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleWorkspaceSymbol","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleWorkspaceSymbol\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleWorkspaceSymbol</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.WorkspaceSymbolParams\">Lean.Lsp.WorkspaceSymbolParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.SymbolInformation\">Lean.Lsp.SymbolInformation</a></span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L550-L557","name":"Lean.Server.Watchdog.handleCallHierarchyOutgoingCalls.collapseSameOutgoingCalls","line":550,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleCallHierarchyOutgoingCalls.collapseSameOutgoingCalls","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleCallHierarchyOutgoingCalls.collapseSameOutgoingCalls\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleCallHierarchyOutgoingCalls</span>.<span class=\"name\">collapseSameOutgoingCalls</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(outgoingCalls : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.CallHierarchyOutgoingCall\">Lean.Lsp.CallHierarchyOutgoingCall</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.CallHierarchyOutgoingCall\">Lean.Lsp.CallHierarchyOutgoingCall</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L510-L557","name":"Lean.Server.Watchdog.handleCallHierarchyOutgoingCalls","line":510,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleCallHierarchyOutgoingCalls","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleCallHierarchyOutgoingCalls\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleCallHierarchyOutgoingCalls</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.CallHierarchyOutgoingCallsParams\">Lean.Lsp.CallHierarchyOutgoingCallsParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.CallHierarchyOutgoingCall\">Lean.Lsp.CallHierarchyOutgoingCall</a></span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L501-L508","name":"Lean.Server.Watchdog.handleCallHierarchyIncomingCalls.collapseSameIncomingCalls","line":501,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleCallHierarchyIncomingCalls.collapseSameIncomingCalls","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleCallHierarchyIncomingCalls.collapseSameIncomingCalls\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleCallHierarchyIncomingCalls</span>.<span class=\"name\">collapseSameIncomingCalls</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(incomingCalls : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.CallHierarchyIncomingCall\">Lean.Lsp.CallHierarchyIncomingCall</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.CallHierarchyIncomingCall\">Lean.Lsp.CallHierarchyIncomingCall</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L462-L508","name":"Lean.Server.Watchdog.handleCallHierarchyIncomingCalls","line":462,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleCallHierarchyIncomingCalls","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleCallHierarchyIncomingCalls\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleCallHierarchyIncomingCalls</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.CallHierarchyIncomingCallsParams\">Lean.Lsp.CallHierarchyIncomingCallsParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.CallHierarchyIncomingCall\">Lean.Lsp.CallHierarchyIncomingCall</a></span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L447-L460","name":"Lean.Server.Watchdog.handlePrepareCallHierarchy","line":447,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handlePrepareCallHierarchy","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handlePrepareCallHierarchy\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handlePrepareCallHierarchy</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.CallHierarchyPrepareParams\">Lean.Lsp.CallHierarchyPrepareParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.CallHierarchyItem\">Lean.Lsp.CallHierarchyItem</a></span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L406-L407","name":"Lean.Server.Watchdog.CallHierarchyItemData.fromItem?","line":406,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CallHierarchyItemData.fromItem?","doc":"Extracts the CallHierarchyItemData from `item.data?` and returns `none` if this is not possible.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CallHierarchyItemData.fromItem?\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">CallHierarchyItemData</span>.<span class=\"name\">fromItem?</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(item : <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.CallHierarchyItem\">Lean.Lsp.CallHierarchyItem</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CallHierarchyItemData\">Lean.Server.Watchdog.CallHierarchyItemData</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L401-L401","name":"Lean.Server.Watchdog.instToJsonCallHierarchyItemData","line":401,"kind":"instance","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.instToJsonCallHierarchyItemData","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.instToJsonCallHierarchyItemData\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">instToJsonCallHierarchyItemData</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Json/FromToJson.html#Lean.ToJson\">Lean.ToJson</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CallHierarchyItemData\">Lean.Server.Watchdog.CallHierarchyItemData</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L401-L401","name":"Lean.Server.Watchdog.instFromJsonCallHierarchyItemData","line":401,"kind":"instance","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.instFromJsonCallHierarchyItemData","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.instFromJsonCallHierarchyItemData\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">instFromJsonCallHierarchyItemData</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Json/FromToJson.html#Lean.FromJson\">Lean.FromJson</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CallHierarchyItemData\">Lean.Server.Watchdog.CallHierarchyItemData</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L400-L400","name":"Lean.Server.Watchdog.CallHierarchyItemData.name","line":400,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CallHierarchyItemData.name","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CallHierarchyItemData.name\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">CallHierarchyItemData</span>.<span class=\"name\">name</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CallHierarchyItemData\">Lean.Server.Watchdog.CallHierarchyItemData</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Lean.Name\">Lake.Name</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L399-L399","name":"Lean.Server.Watchdog.CallHierarchyItemData.mk","line":399,"kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CallHierarchyItemData.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CallHierarchyItemData.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">CallHierarchyItemData</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(name : <a href=\"./Init/Prelude.html#Lean.Name\">Lake.Name</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CallHierarchyItemData\">Lean.Server.Watchdog.CallHierarchyItemData</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L399-L401","name":"Lean.Server.Watchdog.CallHierarchyItemData","line":399,"kind":"structure","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CallHierarchyItemData","doc":"Used in `CallHierarchyItem.data?` to retain the full call hierarchy item name. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CallHierarchyItemData\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">CallHierarchyItemData</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L386-L396","name":"Lean.Server.Watchdog.handleReference","line":386,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleReference","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleReference\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleReference</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.ReferenceParams\">Lean.Lsp.ReferenceParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.Location\">Lean.Lsp.Location</a></span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L375-L384","name":"Lean.Server.Watchdog.findDefinitions","line":375,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.findDefinitions","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.findDefinitions\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">findDefinitions</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.TextDocumentPositionParams\">Lean.Lsp.TextDocumentPositionParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.Location\">Lean.Lsp.Location</a></span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L326-L368","name":"Lean.Server.Watchdog.tryWriteMessage","line":326,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.tryWriteMessage","doc":"Tries to write a message, sets the state of the FileWorker to `crashed` if it does not succeed\nand restarts the file worker if the `crashed` flag was already set. Just logs an error if\nthere is no FileWorker at this `uri`.\nMessages that couldn't be sent can be queued up via the queueFailedMessage flag and\nwill be discharged after the FileWorker is restarted. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.tryWriteMessage\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">tryWriteMessage</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(uri : <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.DocumentUri\">Lean.Lsp.DocumentUri</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(msg : <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.Message\">Lean.JsonRpc.Message</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(queueFailedMessage : <span class=\"fn\"><a href=\"./Init/Prelude.html#optParam\">optParam</a> <a href=\"./Init/Prelude.html#Bool\">Bool</a> <a href=\"./Init/Prelude.html#Bool.true\">true</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(restartCrashedWorker : <span class=\"fn\"><a href=\"./Init/Prelude.html#optParam\">optParam</a> <a href=\"./Init/Prelude.html#Bool\">Bool</a> <a href=\"./Init/Prelude.html#Bool.false\">false</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L318-L319","name":"Lean.Server.Watchdog.handleCrash","line":318,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleCrash","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleCrash\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleCrash</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(uri : <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.DocumentUri\">Lean.Lsp.DocumentUri</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(queuedMsgs : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.Message\">Lean.JsonRpc.Message</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L304-L316","name":"Lean.Server.Watchdog.terminateFileWorker","line":304,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.terminateFileWorker","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.terminateFileWorker\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">terminateFileWorker</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(uri : <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.DocumentUri\">Lean.Lsp.DocumentUri</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L259-L302","name":"Lean.Server.Watchdog.startFileWorker","line":259,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.startFileWorker","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.startFileWorker\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">startFileWorker</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(m : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L190-L195","name":"Lean.Server.Watchdog.handleIleanInfoFinal","line":190,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleIleanInfoFinal","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleIleanInfoFinal\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleIleanInfoFinal</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(fw : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(params : <a href=\"./Lean/Data/Lsp/Internal.html#Lean.Lsp.LeanIleanInfoParams\">Lean.Lsp.LeanIleanInfoParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L183-L188","name":"Lean.Server.Watchdog.handleIleanInfoUpdate","line":183,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleIleanInfoUpdate","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleIleanInfoUpdate\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleIleanInfoUpdate</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(fw : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(params : <a href=\"./Lean/Data/Lsp/Internal.html#Lean.Lsp.LeanIleanInfoParams\">Lean.Lsp.LeanIleanInfoParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L178-L181","name":"Lean.Server.Watchdog.log","line":178,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.log","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.log\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">log</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(msg : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L171-L176","name":"Lean.Server.Watchdog.eraseFileWorker","line":171,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.eraseFileWorker","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.eraseFileWorker\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">eraseFileWorker</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(uri : <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.DocumentUri\">Lean.Lsp.DocumentUri</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L166-L169","name":"Lean.Server.Watchdog.findFileWorker!","line":166,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.findFileWorker!","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.findFileWorker!\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">findFileWorker!</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(uri : <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.DocumentUri\">Lean.Lsp.DocumentUri</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L163-L164","name":"Lean.Server.Watchdog.findFileWorker?","line":163,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.findFileWorker?","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.findFileWorker?\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">findFileWorker?</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(uri : <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.DocumentUri\">Lean.Lsp.DocumentUri</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a></span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L160-L161","name":"Lean.Server.Watchdog.updateFileWorkers","line":160,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.updateFileWorkers","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.updateFileWorkers\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">updateFileWorkers</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(val : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L158-L158","name":"Lean.Server.Watchdog.ServerM","line":158,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerM</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(α : <a href=\"./foundational_types.html\">Type</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L156-L156","name":"Lean.Server.Watchdog.ServerContext.references","line":156,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.references","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.references\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerContext</span>.<span class=\"name\">references</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext\">Lean.Server.Watchdog.ServerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Ref\">IO.Ref</a> <a href=\"./Lean/Server/References.html#Lean.Server.References\">Lean.Server.References</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L155-L155","name":"Lean.Server.Watchdog.ServerContext.srcSearchPath","line":155,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.srcSearchPath","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.srcSearchPath\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerContext</span>.<span class=\"name\">srcSearchPath</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext\">Lean.Server.Watchdog.ServerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/System/FilePath.html#System.SearchPath\">Lake.SearchPath</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L154-L154","name":"Lean.Server.Watchdog.ServerContext.workerPath","line":154,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.workerPath","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.workerPath\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerContext</span>.<span class=\"name\">workerPath</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext\">Lean.Server.Watchdog.ServerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/System/FilePath.html#System.FilePath\">Lake.FilePath</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L153-L153","name":"Lean.Server.Watchdog.ServerContext.initParams","line":153,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.initParams","doc":"We store these to pass them to workers. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.initParams\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerContext</span>.<span class=\"name\">initParams</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext\">Lean.Server.Watchdog.ServerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Data/Lsp/InitShutdown.html#Lean.Lsp.InitializeParams\">Lean.Lsp.InitializeParams</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L151-L151","name":"Lean.Server.Watchdog.ServerContext.fileWorkersRef","line":151,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.fileWorkersRef","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.fileWorkersRef\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerContext</span>.<span class=\"name\">fileWorkersRef</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext\">Lean.Server.Watchdog.ServerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Ref\">IO.Ref</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorkerMap\">Lean.Server.Watchdog.FileWorkerMap</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L150-L150","name":"Lean.Server.Watchdog.ServerContext.args","line":150,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.args","doc":"Command line arguments. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.args\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerContext</span>.<span class=\"name\">args</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext\">Lean.Server.Watchdog.ServerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#List\">List</a> <a href=\"./Init/Prelude.html#String\">String</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L148-L148","name":"Lean.Server.Watchdog.ServerContext.hLog","line":148,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.hLog","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.hLog\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerContext</span>.<span class=\"name\">hLog</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext\">Lean.Server.Watchdog.ServerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L147-L147","name":"Lean.Server.Watchdog.ServerContext.hOut","line":147,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.hOut","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.hOut\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerContext</span>.<span class=\"name\">hOut</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext\">Lean.Server.Watchdog.ServerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L146-L146","name":"Lean.Server.Watchdog.ServerContext.hIn","line":146,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.hIn","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.hIn\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerContext</span>.<span class=\"name\">hIn</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext\">Lean.Server.Watchdog.ServerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L145-L145","name":"Lean.Server.Watchdog.ServerContext.mk","line":145,"kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerContext</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(hIn : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(hOut : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(hLog : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(args : <span class=\"fn\"><a href=\"./Init/Prelude.html#List\">List</a> <a href=\"./Init/Prelude.html#String\">String</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(fileWorkersRef : <span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Ref\">IO.Ref</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorkerMap\">Lean.Server.Watchdog.FileWorkerMap</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(initParams : <a href=\"./Lean/Data/Lsp/InitShutdown.html#Lean.Lsp.InitializeParams\">Lean.Lsp.InitializeParams</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(workerPath : <a href=\"./Init/System/FilePath.html#System.FilePath\">Lake.FilePath</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(srcSearchPath : <a href=\"./Init/System/FilePath.html#System.SearchPath\">Lake.SearchPath</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(references : <span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Ref\">IO.Ref</a> <a href=\"./Lean/Server/References.html#Lean.Server.References\">Lean.Server.References</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext\">Lean.Server.Watchdog.ServerContext</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L145-L156","name":"Lean.Server.Watchdog.ServerContext","line":145,"kind":"structure","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerContext</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L143-L143","name":"Lean.Server.Watchdog.FileWorkerMap","line":143,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorkerMap","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorkerMap\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">FileWorkerMap</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L132-L137","name":"Lean.Server.Watchdog.FileWorker.errorPendingRequests","line":132,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.errorPendingRequests","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.errorPendingRequests\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">errorPendingRequests</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(fw : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(hError : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(code : <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.ErrorCode\">Lean.JsonRpc.ErrorCode</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(msg : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L129-L130","name":"Lean.Server.Watchdog.FileWorker.erasePendingRequest","line":129,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.erasePendingRequest","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.erasePendingRequest\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">erasePendingRequest</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(fw : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(id : <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.RequestID\">Lean.JsonRpc.RequestID</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L126-L127","name":"Lean.Server.Watchdog.FileWorker.stdout","line":126,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.stdout","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.stdout\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">stdout</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(fw : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L123-L124","name":"Lean.Server.Watchdog.FileWorker.stdin","line":123,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.stdin","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.stdin\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">stdin</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(fw : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L119-L119","name":"Lean.Server.Watchdog.FileWorker.pendingRequestsRef","line":119,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.pendingRequestsRef","doc":"The pending requests map contains all requests that have been received from the LSP client,\nbut were not answered yet.\nWe need them for forwarding cancellation requests to the correct worker as well as cleanly\naborting requests on worker crashes. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.pendingRequestsRef\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">pendingRequestsRef</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Ref\">IO.Ref</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.PendingRequestMap\">Lean.Server.Watchdog.PendingRequestMap</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L112-L112","name":"Lean.Server.Watchdog.FileWorker.state","line":112,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.state","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.state\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">state</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerState\">Lean.Server.Watchdog.WorkerState</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L111-L111","name":"Lean.Server.Watchdog.FileWorker.commTask","line":111,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.commTask","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.commTask\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">commTask</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Core.html#Task\">Task</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent\">Lean.Server.Watchdog.WorkerEvent</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L110-L110","name":"Lean.Server.Watchdog.FileWorker.proc","line":110,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.proc","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.proc\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">proc</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Process.Child\">IO.Process.Child</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.workerCfg\">Lean.Server.Watchdog.workerCfg</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L109-L109","name":"Lean.Server.Watchdog.FileWorker.doc","line":109,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.doc","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.doc\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">doc</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L108-L108","name":"Lean.Server.Watchdog.FileWorker.mk","line":108,"kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(doc : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(proc : <span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Process.Child\">IO.Process.Child</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.workerCfg\">Lean.Server.Watchdog.workerCfg</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(commTask : <span class=\"fn\"><a href=\"./Init/Core.html#Task\">Task</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent\">Lean.Server.Watchdog.WorkerEvent</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(state : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerState\">Lean.Server.Watchdog.WorkerState</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(pendingRequestsRef : <span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Ref\">IO.Ref</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.PendingRequestMap\">Lean.Server.Watchdog.PendingRequestMap</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L108-L119","name":"Lean.Server.Watchdog.FileWorker","line":108,"kind":"structure","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">FileWorker</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L104-L104","name":"Lean.Server.Watchdog.PendingRequestMap","line":104,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.PendingRequestMap","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.PendingRequestMap\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">PendingRequestMap</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L102-L102","name":"Lean.Server.Watchdog.WorkerState.running","line":102,"kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerState.running","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerState.running\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">WorkerState</span>.<span class=\"name\">running</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerState\">Lean.Server.Watchdog.WorkerState</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L94-L101","name":"Lean.Server.Watchdog.WorkerState.crashed","line":94,"kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerState.crashed","doc":"The watchdog can detect a crashed file worker in two places: When trying to send a message\nto the file worker and when reading a request reply.\nIn the latter case, the forwarding task terminates and delegates a `crashed` event to the\nmain task. Then, in both cases, the file worker has its state set to `crashed` and requests\nthat are in-flight are errored. Upon receiving the next packet for that file worker, the file\nworker is restarted and the packet is forwarded to it. If the crash was detected while writing\na packet, we queue that packet until the next packet for the file worker arrives. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerState.crashed\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">WorkerState</span>.<span class=\"name\">crashed</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(queuedMsgs : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.Message\">Lean.JsonRpc.Message</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerState\">Lean.Server.Watchdog.WorkerState</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L93-L102","name":"Lean.Server.Watchdog.WorkerState","line":93,"kind":"inductive","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerState","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">inductive</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerState\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">WorkerState</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L91-L91","name":"Lean.Server.Watchdog.WorkerEvent.ioError","line":91,"kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent.ioError","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent.ioError\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">WorkerEvent</span>.<span class=\"name\">ioError</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(e : <a href=\"./Init/System/IOError.html#IO.Error\">IO.Error</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent\">Lean.Server.Watchdog.WorkerEvent</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L90-L90","name":"Lean.Server.Watchdog.WorkerEvent.crashed","line":90,"kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent.crashed","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent.crashed\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">WorkerEvent</span>.<span class=\"name\">crashed</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(e : <a href=\"./Init/System/IOError.html#IO.Error\">IO.Error</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent\">Lean.Server.Watchdog.WorkerEvent</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L89-L89","name":"Lean.Server.Watchdog.WorkerEvent.importsChanged","line":89,"kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent.importsChanged","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent.importsChanged\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">WorkerEvent</span>.<span class=\"name\">importsChanged</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent\">Lean.Server.Watchdog.WorkerEvent</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L88-L88","name":"Lean.Server.Watchdog.WorkerEvent.terminated","line":88,"kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent.terminated","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent.terminated\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">WorkerEvent</span>.<span class=\"name\">terminated</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent\">Lean.Server.Watchdog.WorkerEvent</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L87-L91","name":"Lean.Server.Watchdog.WorkerEvent","line":87,"kind":"inductive","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent","doc":"Events that worker-specific tasks signal to the main thread. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">inductive</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">WorkerEvent</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/6fce8f7d5cd18a4419bca7fd51780c71c9b1cc5a/src/Lean/Server/Watchdog.lean#L79-L84","name":"Lean.Server.Watchdog.workerCfg","line":79,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.workerCfg","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.workerCfg\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">workerCfg</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/System/IO.html#IO.Process.StdioConfig\">IO.Process.StdioConfig</a></div></div>"}]}